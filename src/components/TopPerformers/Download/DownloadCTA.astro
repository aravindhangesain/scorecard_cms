---
import { getLang } from "../../../i18n/useLang";
import en from "../../../i18n/ln.json";      // English
import zh from "../../../i18n/ln-eg.json";   // Chinese

const lang = getLang(Astro);
const t = lang === "zh" ? zh : en;
---

<section class="cta-wrapper">
  <div class="cta-container">
    <div class="cta-content">
      <h3>{t.download_cta_heading}</h3>

      <a
        href={t.download_cta_button_url}
        target="_blank"
        rel="noopener noreferrer"
        class="cta-link"
      >
        <span class="text">{t.download_cta_button_text}</span>
        <img
          class="cta-arrow"
          src="/images/Icon_Arrow_Black.svg"
          alt=""
        />
      </a>
    </div>
  </div>
</section>


<style>
  .cta-wrapper {
    padding: 40px 20px;
    background: #fff;
  }

  .cta-container {
    max-width: 1100px;
    margin: 0 auto;
    border: 1px solid #cbd5e1;
    padding: 40px;
  }

  .cta-content {
    display: flex;
    flex-direction: column;
    gap: 40px;
  }

  .cta-content h3 {
    max-width: 1000px;
    font-size: 32px;
    line-height: 39.6px;
    font-weight: 500;
    color: #282828;
    font-family: "Work Sans", sans-serif;
  }

  .cta-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    font-size: 16px;
    font-weight: 700;
    color: #282828;
    text-decoration: none;
    font-family: "Work Sans", sans-serif;
  }

  /* Keep arrow size fixed */
  .cta-link img.cta-arrow {
    width: 60px; /* keep original size */
    height: auto;
    transition: transform 0.3s ease;
  }

  /* Slide on hover */
  .cta-link:hover img.cta-arrow {
    transform: translateX(8px);
  }

  /* Click feedback */
  .cta-link:active img.cta-arrow {
    transform: translateX(12px);
  }

  @keyframes arrowSlide {
    0% {
      transform: translateX(0);
    }
    60% {
      transform: translateX(12px);
    }
    100% {
      transform: translateX(8px);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .footnote-row img.cta-arrow {
      transition: none;
      animation: none;
    }
  }
</style>
