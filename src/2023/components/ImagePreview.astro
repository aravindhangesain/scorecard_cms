---
---

<div id="imgModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="modalImage" />
  <div id="modalCaption"></div>
</div>

<style>
  .modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 9999;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  .modal-content {
    max-width: 80%;
    max-height: 80%;
    animation: zoom 0.3s ease;
  }

  @keyframes zoom {
    from { transform: scale(0.85); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  .close {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 40px;
    color: #fff;
    cursor: pointer;
  }

  #modalCaption {
    color: #ccc;
    margin-top: 1rem;
    max-width: 80%;
    text-align: center;
  }

</style>

<script is:inline>
  const modal = document.getElementById("imgModal");
  const modalImg = document.getElementById("modalImage");
  const modalCaption = document.getElementById("modalCaption");
  const closeBtn = modal.querySelector(".close");

  document.addEventListener("click", (e) => {
    const img = e.target.closest(".modal-trigger");
    if (!img) return;

    modal.style.display = "flex";
    modalImg.src = img.src;
    modalCaption.innerHTML = img.dataset.caption || "";
  });

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
  });

  modal.addEventListener("click", (e) => {
    if (e.target === modal) modal.style.display = "none";
  });
</script>
